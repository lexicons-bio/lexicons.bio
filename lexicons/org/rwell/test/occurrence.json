{
  "lexicon": 1,
  "id": "org.rwell.test.occurrence",
  "defs": {
    "main": {
      "type": "record",
      "description": "A biodiversity observation record following Darwin Core standards. Represents a single occurrence of an organism at a specific place and time.",
      "key": "tid",
      "record": {
        "type": "object",
        "required": ["eventDate", "location"],
        "properties": {
          "eventDate": {
            "type": "string",
            "format": "datetime",
            "description": "The date-time when the observation occurred, in ISO 8601 format (Darwin Core dwc:eventDate)."
          },
          "location": {
            "type": "ref",
            "ref": "#location",
            "description": "Geographic location information for the observation."
          },
          "verbatimLocality": {
            "type": "string",
            "description": "The original textual description of the place (Darwin Core dwc:verbatimLocality).",
            "maxLength": 1024
          },
          "blobs": {
            "type": "array",
            "description": "Array of image references documenting the observation.",
            "items": {
              "type": "ref",
              "ref": "#imageEmbed"
            },
            "maxLength": 10
          },
          "notes": {
            "type": "string",
            "description": "Additional notes or comments about the observation.",
            "maxLength": 3000
          },
          "license": {
            "type": "string",
            "description": "SPDX license identifier for this observation (maps to Dublin Core dcterms:license).",
            "knownValues": [
              "CC0-1.0",
              "CC-BY-4.0",
              "CC-BY-NC-4.0",
              "CC-BY-SA-4.0",
              "CC-BY-NC-SA-4.0"
            ],
            "maxLength": 32
          },
          "recordedBy": {
            "type": "array",
            "description": "DIDs of co-observers who participated in this observation. The record creator is the primary observer.",
            "items": {
              "type": "string"
            },
            "maxLength": 10
          },
          "basisOfRecord": {
            "type": "string",
            "description": "The specific nature of the data record (Darwin Core dwc:basisOfRecord).",
            "knownValues": [
              "human-observation",
              "machine-observation",
              "observation"
            ],
            "default": "human-observation",
            "maxLength": 32
          },
          "occurrenceStatus": {
            "type": "string",
            "description": "A statement about the presence or absence of a taxon at a location (Darwin Core dwc:occurrenceStatus).",
            "knownValues": [
              "present",
              "absent"
            ],
            "default": "present",
            "maxLength": 16
          },
          "individualCount": {
            "type": "integer",
            "description": "The number of individuals observed (Darwin Core dwc:individualCount).",
            "minimum": 1
          },
          "sex": {
            "type": "string",
            "description": "The sex of the organism(s) (Darwin Core dwc:sex).",
            "knownValues": [
              "male",
              "female",
              "hermaphrodite"
            ],
            "maxLength": 32
          },
          "lifeStage": {
            "type": "string",
            "description": "The age class or life stage of the organism(s) (Darwin Core dwc:lifeStage).",
            "knownValues": [
              "adult",
              "juvenile",
              "larva",
              "pupa",
              "egg",
              "embryo",
              "nymph",
              "seedling",
              "subadult"
            ],
            "maxLength": 32
          },
          "habitat": {
            "type": "string",
            "description": "A category or description of the habitat in which the event occurred (Darwin Core dwc:habitat).",
            "maxLength": 256
          },
          "establishmentMeans": {
            "type": "string",
            "description": "The means by which the organism was established at the location (Darwin Core dwc:establishmentMeans).",
            "knownValues": [
              "native",
              "introduced",
              "native-reintroduced",
              "introduced-assisted-colonisation",
              "vagrant",
              "uncertain"
            ],
            "maxLength": 64
          },
          "behavior": {
            "type": "string",
            "description": "The behavior shown by the organism at the time of the observation (Darwin Core dwc:behavior).",
            "maxLength": 256
          },
          "caste": {
            "type": "string",
            "description": "Categorisation of individuals for eusocial species (Darwin Core dwc:caste).",
            "maxLength": 64
          }
        }
      }
    },
    "location": {
      "type": "object",
      "description": "Geographic coordinates following Darwin Core standards.",
      "required": ["decimalLatitude", "decimalLongitude"],
      "properties": {
        "decimalLatitude": {
          "type": "string",
          "description": "The geographic latitude in decimal degrees (Darwin Core dwc:decimalLatitude). Valid range: -90 to 90."
        },
        "decimalLongitude": {
          "type": "string",
          "description": "The geographic longitude in decimal degrees (Darwin Core dwc:decimalLongitude). Valid range: -180 to 180."
        },
        "coordinateUncertaintyInMeters": {
          "type": "integer",
          "description": "The horizontal distance (in meters) from the given coordinates describing the smallest circle containing the whole of the Location (Darwin Core dwc:coordinateUncertaintyInMeters).",
          "minimum": 0
        },
        "geodeticDatum": {
          "type": "string",
          "description": "The ellipsoid, geodetic datum, or spatial reference system used (Darwin Core dwc:geodeticDatum). Defaults to WGS84.",
          "default": "WGS84",
          "maxLength": 64
        },
        "continent": {
          "type": "string",
          "description": "The name of the continent (Darwin Core dwc:continent).",
          "knownValues": ["africa", "antarctica", "asia", "europe", "north-america", "oceania", "south-america"],
          "maxLength": 32
        },
        "country": {
          "type": "string",
          "description": "The name of the country or major administrative unit (Darwin Core dwc:country).",
          "maxLength": 128
        },
        "countryCode": {
          "type": "string",
          "description": "The standard code for the country (Darwin Core dwc:countryCode). ISO 3166-1-alpha-2.",
          "maxLength": 2
        },
        "stateProvince": {
          "type": "string",
          "description": "The name of the next smaller administrative region than country (Darwin Core dwc:stateProvince).",
          "maxLength": 128
        },
        "county": {
          "type": "string",
          "description": "The full, unabbreviated name of the next smaller administrative region than stateProvince (Darwin Core dwc:county).",
          "maxLength": 128
        },
        "municipality": {
          "type": "string",
          "description": "The full, unabbreviated name of the next smaller administrative region than county (Darwin Core dwc:municipality).",
          "maxLength": 128
        },
        "locality": {
          "type": "string",
          "description": "The specific description of the place (Darwin Core dwc:locality).",
          "maxLength": 512
        },
        "waterBody": {
          "type": "string",
          "description": "The name of the water body in which the location occurs (Darwin Core dwc:waterBody).",
          "maxLength": 128
        },
        "minimumElevationInMeters": {
          "type": "string",
          "description": "The lower limit of the range of elevation in meters (Darwin Core dwc:minimumElevationInMeters)."
        },
        "maximumElevationInMeters": {
          "type": "string",
          "description": "The upper limit of the range of elevation in meters (Darwin Core dwc:maximumElevationInMeters)."
        },
        "minimumDepthInMeters": {
          "type": "string",
          "description": "The lesser depth of a range of depth below the local surface in meters (Darwin Core dwc:minimumDepthInMeters)."
        },
        "maximumDepthInMeters": {
          "type": "string",
          "description": "The greater depth of a range of depth below the local surface in meters (Darwin Core dwc:maximumDepthInMeters)."
        }
      }
    },
    "imageEmbed": {
      "type": "object",
      "description": "A reference to an uploaded image blob.",
      "required": ["image", "alt"],
      "properties": {
        "image": {
          "type": "blob",
          "accept": ["image/jpeg", "image/png", "image/webp"],
          "maxSize": 10000000,
          "description": "The image blob reference."
        },
        "alt": {
          "type": "string",
          "description": "Alt text description of the image for accessibility.",
          "maxLength": 1000
        },
        "aspectRatio": {
          "type": "ref",
          "ref": "#aspectRatio"
        }
      }
    },
    "aspectRatio": {
      "type": "object",
      "description": "Width and height of an image, used for proper display before loading.",
      "required": ["width", "height"],
      "properties": {
        "width": {
          "type": "integer",
          "minimum": 1
        },
        "height": {
          "type": "integer",
          "minimum": 1
        }
      }
    }
  }
}
