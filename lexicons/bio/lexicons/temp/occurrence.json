{
  "lexicon": 1,
  "id": "bio.lexicons.temp.occurrence",
  "defs": {
    "main": {
      "type": "record",
      "description": "A biodiversity observation record following Darwin Core standards. Represents a single occurrence of an organism.",
      "key": "tid",
      "record": {
        "type": "object",
        "properties": {
          "event": {
            "type": "ref",
            "ref": "#event",
            "description": "Event information for the observation (Darwin Core dwc:Event class)."
          },
          "location": {
            "type": "ref",
            "ref": "#location",
            "description": "Geographic location information for the observation."
          },
          "associatedMedia": {
            "type": "array",
            "description": "Array of image references documenting the observation (Darwin Core dwc:associatedMedia).",
            "items": {
              "type": "ref",
              "ref": "#imageEmbed"
            },
            "maxLength": 10
          },
          "occurrenceRemarks": {
            "type": "string",
            "description": "Additional notes or comments about the observation (Darwin Core dwc:occurrenceRemarks).",
            "maxLength": 3000
          },
          "license": {
            "type": "string",
            "description": "SPDX license identifier for this observation (maps to Dublin Core dcterms:license).",
            "knownValues": [
              "CC0-1.0",
              "CC-BY-4.0",
              "CC-BY-NC-4.0",
              "CC-BY-SA-4.0",
              "CC-BY-NC-SA-4.0"
            ],
            "maxLength": 32
          }
        }
      }
    },
    "event": {
      "type": "object",
      "description": "Event information following Darwin Core Event class (dwc:Event).",
      "properties": {
        "eventDate": {
          "type": "string",
          "format": "datetime",
          "description": "The date-time when the observation occurred, in ISO 8601 format (Darwin Core dwc:eventDate)."
        }
      }
    },
    "location": {
      "type": "object",
      "description": "Geographic coordinates following Darwin Core standards.",
      "required": ["decimalLatitude", "decimalLongitude"],
      "properties": {
        "decimalLatitude": {
          "type": "string",
          "description": "The geographic latitude in decimal degrees (Darwin Core dwc:decimalLatitude). Valid range: -90 to 90."
        },
        "decimalLongitude": {
          "type": "string",
          "description": "The geographic longitude in decimal degrees (Darwin Core dwc:decimalLongitude). Valid range: -180 to 180."
        },
        "coordinateUncertaintyInMeters": {
          "type": "integer",
          "description": "The horizontal distance (in meters) from the given coordinates describing the smallest circle containing the whole of the Location (Darwin Core dwc:coordinateUncertaintyInMeters).",
          "minimum": 0
        }
      }
    },
    "imageEmbed": {
      "type": "object",
      "description": "A reference to an uploaded image blob.",
      "required": ["image"],
      "properties": {
        "image": {
          "type": "blob",
          "accept": ["image/jpeg", "image/png", "image/webp"],
          "maxSize": 10000000,
          "description": "The image blob reference."
        },
        "alt": {
          "type": "string",
          "description": "Alt text description of the image for accessibility.",
          "maxLength": 1000
        },
        "aspectRatio": {
          "type": "ref",
          "ref": "#aspectRatio"
        }
      }
    },
    "aspectRatio": {
      "type": "object",
      "description": "Width and height of an image, used for proper display before loading.",
      "required": ["width", "height"],
      "properties": {
        "width": {
          "type": "integer",
          "minimum": 1
        },
        "height": {
          "type": "integer",
          "minimum": 1
        }
      }
    }
  }
}
